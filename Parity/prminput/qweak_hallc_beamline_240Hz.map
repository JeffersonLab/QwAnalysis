
!**************************************************************************
!  HALL C  BEAMLINE
!**************************************************************************
!
!
ROC=1
Bank=0x102
!same sample size for ADCs in a given bank
sample_size==2000 
!
!
! module.type, module.num  chan.num, det.type, det.name, if unrotated then last column ->UNROTATED

!ADC0

   VQWK, 0, 0,  bpmstripline,  QWK_BPM3C07XP
   VQWK, 0, 1,  bpmstripline,  QWK_BPM3C07XM
   VQWK, 0, 2,  bpmstripline,  QWK_BPM3C07YP
   VQWK, 0, 3,  bpmstripline,  QWK_BPM3C07YM
   VQWK, 0, 4,  bpmstripline,  QWK_BPM3C08XP
   VQWK, 0, 5,  bpmstripline,  QWK_BPM3C08XM
   VQWK, 0, 6,  bpmstripline,  QWK_BPM3C08YP
   VQWK, 0, 7,  bpmstripline,  QWK_BPM3C08YM

!ADC1
   VQWK, 1, 0,  bpmstripline,  QWK_BPM3C11XP
   VQWK, 1, 1,  bpmstripline,  QWK_BPM3C11XM
   VQWK, 1, 2,  bpmstripline,  QWK_BPM3C11YP
   VQWK, 1, 3,  bpmstripline,  QWK_BPM3C11YM
   VQWK, 1, 4,  bpmstripline,  QWK_BPM3C12XP
   VQWK, 1, 5,  bpmstripline,  QWK_BPM3C12XM
   VQWK, 1, 6,  bpmstripline,  QWK_BPM3C12YP
   VQWK, 1, 7,  bpmstripline,  QWK_BPM3C12YM

!ADC2
   VQWK, 2, 0,  bpmstripline,  QWK_BPM3C14XP
   VQWK, 2, 1,  bpmstripline,  QWK_BPM3C14XM
   VQWK, 2, 2,  bpmstripline,  QWK_BPM3C14YP
   VQWK, 2, 3,  bpmstripline,  QWK_BPM3C14YM
   VQWK, 2, 4,  bpmstripline,  QWK_BPM3C16XP
   VQWK, 2, 5,  bpmstripline,  QWK_BPM3C16XM
   VQWK, 2, 6,  bpmstripline,  QWK_BPM3C16YP
   VQWK, 2, 7,  bpmstripline,  QWK_BPM3C16YM

!ADC3
   VQWK, 3, 0,  bpmstripline,  QWK_BPM3C17XP
   VQWK, 3, 1,  bpmstripline,  QWK_BPM3C17XM
   VQWK, 3, 2,  bpmstripline,  QWK_BPM3C17YP
   VQWK, 3, 3,  bpmstripline,  QWK_BPM3C17YM
   VQWK, 3, 4,  bpmstripline,  QWK_BPM3C18XP
   VQWK, 3, 5,  bpmstripline,  QWK_BPM3C18XM
   VQWK, 3, 6,  bpmstripline,  QWK_BPM3C18YP
   VQWK, 3, 7,  bpmstripline,  QWK_BPM3C18YM

!ADC4
   VQWK, 4, 0,  bpmstripline,  QWK_BPM3C19XP
   VQWK, 4, 1,  bpmstripline,  QWK_BPM3C19XM
   VQWK, 4, 2,  bpmstripline,  QWK_BPM3C19YP
   VQWK, 4, 3,  bpmstripline,  QWK_BPM3C19YM
   VQWK, 4, 4,  bpmstripline,  QWK_BPM3C07AXP
   VQWK, 4, 5,  bpmstripline,  QWK_BPM3C07AXM
   VQWK, 4, 6,  bpmstripline,  QWK_BPM3C07AYP
   VQWK, 4, 7,  bpmstripline,  QWK_BPM3C07AYM

!ADC5	
   VQWK, 5, 0,  bpmstripline,  QWK_BPM3P02AXP
   VQWK, 5, 1,  bpmstripline,  QWK_BPM3P02AXM
   VQWK, 5, 2,  bpmstripline,  QWK_BPM3P02AYP
   VQWK, 5, 3,  bpmstripline,  QWK_BPM3P02AYM
   VQWK, 5, 4,  bpmstripline,  QWK_BPM3P02BXP
   VQWK, 5, 5,  bpmstripline,  QWK_BPM3P02BXM
   VQWK, 5, 6,  bpmstripline,  QWK_BPM3P02BYP
   VQWK, 5/, 7,  bpmstripline,  QWK_BPM3P02BYM

!ADC6
   VQWK, 6, 0,  bpmstripline,  QWK_BPM3P03AXP
   VQWK, 6, 1,  bpmstripline,  QWK_BPM3P03AXM
   VQWK, 6, 2,  bpmstripline,  QWK_BPM3P03AYP
   VQWK, 6, 3,  bpmstripline,  QWK_BPM3P03AYM
   VQWK, 6, 4,  bpmstripline,  QWK_BPM3C20XP
   VQWK, 6, 5,  bpmstripline,  QWK_BPM3C20XM
   VQWK, 6, 6,  bpmstripline,  QWK_BPM3C20YP
   VQWK, 6, 7,  bpmstripline,  QWK_BPM3C20YM

!ADC7
   VQWK, 7, 0,  bpmstripline,  QWK_BPM3C21XP
   VQWK, 7, 1,  bpmstripline,  QWK_BPM3C21XM
   VQWK, 7, 2,  bpmstripline,  QWK_BPM3C21YP
   VQWK, 7, 3,  bpmstripline,  QWK_BPM3C21YM
   VQWK, 7, 4,  bpmstripline,  QWK_BPM3H02XP
   VQWK, 7, 5,  bpmstripline,  QWK_BPM3H02XM
   VQWK, 7, 6,  bpmstripline,  QWK_BPM3H02YP
   VQWK, 7, 7,  bpmstripline,  QWK_BPM3H02YM

!ADC8
   VQWK, 8, 0,  bpmstripline,  QWK_BPM3H04AXP
   VQWK, 8, 1,  bpmstripline,  QWK_BPM3H04AXM
   VQWK, 8, 2,  bpmstripline,  QWK_BPM3H04AYP
   VQWK, 8, 3,  bpmstripline,  QWK_BPM3H04AYM
   VQWK, 8, 4,  bpmstripline,  QWK_BPM3H07AXP
   VQWK, 8, 5,  bpmstripline,  QWK_BPM3H07AXM
   VQWK, 8, 6,  bpmstripline,  QWK_BPM3H07AYP
   VQWK, 8, 7,  bpmstripline,  QWK_BPM3H07AYM

!ADC9
   VQWK, 9, 0,  bpmstripline,  QWK_BPM3H07BXP
   VQWK, 9, 1,  bpmstripline,  QWK_BPM3H07BXM
   VQWK, 9, 2,  bpmstripline,  QWK_BPM3H07BYP
   VQWK, 9, 3,  bpmstripline,  QWK_BPM3H07BYM
   VQWK, 9, 4,  bpmstripline,  QWK_BPM3H07CXP
   VQWK, 9, 5,  bpmstripline,  QWK_BPM3H07CXM
   VQWK, 9, 6,  bpmstripline,  QWK_BPM3H07CYP
   VQWK, 9, 7,  bpmstripline,  QWK_BPM3H07CYM

!ADC10
   VQWK, 10, 0,  bpmstripline,  QWK_BPM3H08XP
   VQWK, 10, 1,  bpmstripline,  QWK_BPM3H08XM
   VQWK, 10, 2,  bpmstripline,  QWK_BPM3H08YP
   VQWK, 10, 3,  bpmstripline,  QWK_BPM3H08YM
   VQWK, 10, 4,  bpmstripline,  QWK_BPM3H09XP
   VQWK, 10, 5,  bpmstripline,  QWK_BPM3H09XM
   VQWK, 10, 6,  bpmstripline,  QWK_BPM3H09YP
   VQWK, 10, 7,  bpmstripline,  QWK_BPM3H09YM


!ADC11
   VQWK, 11, 0,  bpmstripline,  QWK_BPM3H09AXP	
   VQWK, 11, 1,  bpmstripline,  QWK_BPM3H09AXM
   VQWK, 11, 2,  bpmstripline,  QWK_BPM3H09AYP
   VQWK, 11, 3,  bpmstripline,  QWK_BPM3H09AYM
   VQWK, 11, 4,  bcm,  QWK_BCM6
   VQWK, 11, 5,  bcm,  QWK_BCM5
   VQWK, 11, 6,  bcm,  QWK_BCM2
   VQWK, 11, 7,  bcm,  QWK_BCM1

!**************************************************************************
! HALL C PHASE MONITOR
!**************************************************************************
ROC=0
Bank=0x6110
sample_size==2000 

!ADC0
   VQWK, 0, 0,  bcm,  QWK_LINEPHASE
   VQWK, 0, 1,  bcm,  QWK_INVERT_TStable




!**************************************************************************
! HALL C BEAMLINE SCALERS : HALO MONITORS
!**************************************************************************
Bank=0x6103
!
!
! scaler.type, scaler.num  word.num, det.type, det.name

SCALER,0,16,bcm,qwk_sca_bcm1
SCALER,0,17,bcm,qwk_sca_bcm2
SCALER,0,18,bcm,qwk_sca_bcm17
SCALER,0,19,bcm,qwk_sca_unser
SCALER,0,20,bcm,qwk_sca_bcm5
SCALER,0,21,bcm,qwk_sca_bcm6

SCALER,0,29,clock,qwk_sca_31MHz
SCALER,0,30,clock,qwk_sca_4MHz
SCALER,0,31,clock,qwk_sca_31MHzreturn

SCALER,2,16,halomonitor,qwk_empty_s2ch16
SCALER,2,17,halomonitor,qwk_empty_s2ch17
SCALER,2,18,halomonitor,qwk_halo3
SCALER,2,19,halomonitor,qwk_halo4
SCALER,2,20,halomonitor,qwk_halo5
SCALER,2,21,halomonitor,qwk_halo6
SCALER,2,22,halomonitor,qwk_halo7
SCALER,2,23,halomonitor,qwk_bad_s2ch23
SCALER,2,24,halomonitor,qwk_halo8
SCALER,2,25,halomonitor,qwk_halo9
SCALER,2,26,halomonitor,qwk_halo10
SCALER,2,27,halomonitor,qwk_empty_s2ch27
SCALER,2,28,halomonitor,qwk_empty_s2ch28
SCALER,2,29,halomonitor,qwk_empty_s2ch29
SCALER,2,30,halomonitor,qwk_empty_s2ch30
SCALER,2,31,halomonitor,qwk_empty_s2ch31



!**************************************************************************
! COMBINATIONS OF BEAM LINE DEVICES USED FOR BEAM ON TARGET 
!**************************************************************************


!begin=combinedbcm
!name=qwk_average_charge
!!name	type	wieght
! empty2,  bcm, 1.0
! empty1,  bcm, 0.8
!end=combinedbcm


!begin=combinedbpm
!name=qwk_target
!!name	    type 	  q      x     y    
! QWK_BPM3C07,  bpmstripline, 1.0,  1.0,  1.0
! QWK_BPM3C08,  bpmstripline, 1.0,  1.0,  1.0
! QWK_BPM3C11,  bpmstripline, 1.0,  1.0,  1.0
! QWK_BPM3C12,  bpmstripline, 1.0,  1.0,  1.0
!end=combinedbpm


!**************************************************************************
! DEVICES USED TO OBTAIN THE BEAM ENERGY
!**************************************************************************
! For the energy calculation we need the following inforamtion.
! 	Beam position at the highest dispersive region (beamposition)
!	Beam angle on target (targetbeamangle)
!	Beam position on target (targetbeamposition)
! 	The ratios of the TMatrix elements (with the appropriate signs).
! These are used in the equation
!	(dP/P) = (1/M15)*X_3c12 + (-M11/M15)*X_T + (-M12/M15)*X_T`
! To get (dP/P).

!begin=energycalculator
!name=qwk_bpmenergy
!! name      type 	ratios property  
!  QWK_BPM3C11, bpmstripline, 1.5,	beamposition   
!  QWK_BPMTARGET, combinedbpm, -2.4, targetbeamangle
!  QWK_BPMTARGET, combinedbpm, -0.6, targetbeamposition
!end=energycalculator

! CHECK THE SIGNS OF THE MATRIX ELEMENT RATIOS!.



!END



