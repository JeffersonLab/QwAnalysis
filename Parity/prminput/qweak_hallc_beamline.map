
!**************************************************************************
!  HALL C  BEAMLINE
!**************************************************************************
!
!
ROC=1
Bank=0x102
!same sample size for ADCs in a given bank
sample_size==120 
!
!
! module.type, module.num  chan.num, det.type, det.name, if unrotated then last column ->UNROTATED

!ADC0
   VQWK, 0, 0,  bpmstripline,  QWK_3C00XP
   VQWK, 0, 1,  bpmstripline,  QWK_3C00XM
   VQWK, 0, 2,  bpmstripline,  QWK_3C00YP
   VQWK, 0, 3,  bpmstripline,  QWK_3C00YM
   VQWK, 0, 4,  bpmstripline,  QWK_3C01XP
   VQWK, 0, 5,  bpmstripline,  QWK_3C01XM
   VQWK, 0, 6,  bpmstripline,  QWK_3C01YP
   VQWK, 0, 7,  bpmstripline,  QWK_3C01YM

!ADC1
   VQWK, 1, 0,  bpmstripline,  QWK_3C02XP
   VQWK, 1, 1,  bpmstripline,  QWK_3C02XM
   VQWK, 1, 2,  bpmstripline,  QWK_3C02YP
   VQWK, 1, 3,  bpmstripline,  QWK_3C02YM
   VQWK, 1, 4,  bpmstripline,  QWK_3C03XP
   VQWK, 1, 5,  bpmstripline,  QWK_3C03XM
   VQWK, 1, 6,  bpmstripline,  QWK_3C03YP
   VQWK, 1, 7,  bpmstripline,  QWK_3C03YM

!ADC2
   VQWK, 2, 0,  bpmstripline,  QWK_3C04XP
   VQWK, 2, 1,  bpmstripline,  QWK_3C04XM
   VQWK, 2, 2,  bpmstripline,  QWK_3C04YP
   VQWK, 2, 3,  bpmstripline,  QWK_3C04YM
   VQWK, 2, 4,  bpmstripline,  QWK_3C05XP
   VQWK, 2, 5,  bpmstripline,  QWK_3C05XM
   VQWK, 2, 6,  bpmstripline,  QWK_3C05YP
   VQWK, 2, 7,  bpmstripline,  QWK_3C05YM

!ADC3
   VQWK, 3, 0,  bpmstripline,  QWK_3C06XP
   VQWK, 3, 1,  bpmstripline,  QWK_3C06XM
   VQWK, 3, 2,  bpmstripline,  QWK_3C06YP
   VQWK, 3, 3,  bpmstripline,  QWK_3C06YM
   VQWK, 3, 4,  bpmstripline,  QWK_3C07XP
   VQWK, 3, 5,  bpmstripline,  QWK_3C07XM
   VQWK, 3, 6,  bpmstripline,  QWK_3C07YP
   VQWK, 3, 7,  bpmstripline,  QWK_3C07YM

!ADC4
   VQWK, 4, 0,  bpmstripline,  QWK_3C07AXP
   VQWK, 4, 1,  bpmstripline,  QWK_3C07AXM
   VQWK, 4, 2,  bpmstripline,  QWK_3C07AYP
   VQWK, 4, 3,  bpmstripline,  QWK_3C07AYM
   VQWK, 4, 4,  bpmstripline,  QWK_3C08XP
   VQWK, 4, 5,  bpmstripline,  QWK_3C08XM
   VQWK, 4, 6,  bpmstripline,  QWK_3C08YP
   VQWK, 4, 7,  bpmstripline,  QWK_3C08YM

!ADC5
   VQWK, 5, 0,  bpmstripline,  QWK_3C10XP
   VQWK, 5, 1,  bpmstripline,  QWK_3C10XM
   VQWK, 5, 2,  bpmstripline,  QWK_3C10YP
   VQWK, 5, 3,  bpmstripline,  QWK_3C10YM
   VQWK, 5, 4,  bpmstripline,  QWK_3C11XP
   VQWK, 5, 5,  bpmstripline,  QWK_3C11XM
   VQWK, 5, 6,  bpmstripline,  QWK_3C11YP
   VQWK, 5, 7,  bpmstripline,  QWK_3C11YM

!ADC6
   VQWK, 6, 4,  bpmstripline,  QWK_3C12XP
   VQWK, 6, 5,  bpmstripline,  QWK_3C12XM
   VQWK, 6, 6,  bpmstripline,  QWK_3C12YP
   VQWK, 6, 7,  bpmstripline,  QWK_3C12YM
   VQWK, 6, 0,  bpmstripline,  QWK_3C14XP
   VQWK, 6, 1,  bpmstripline,  QWK_3C14XM
   VQWK, 6, 2,  bpmstripline,  QWK_3C14YP
   VQWK, 6, 3,  bpmstripline,  QWK_3C14YM

!ADC7
   VQWK, 7, 4,  bpmstripline,  QWK_3C16XP
   VQWK, 7, 5,  bpmstripline,  QWK_3C16XM
   VQWK, 7, 6,  bpmstripline,  QWK_3C16YP
   VQWK, 7, 7,  bpmstripline,  QWK_3C16YM
   VQWK, 7, 0,  bpmstripline,  QWK_3C17XP
   VQWK, 7, 1,  bpmstripline,  QWK_3C17XM
   VQWK, 7, 2,  bpmstripline,  QWK_3C17YP
   VQWK, 7, 3,  bpmstripline,  QWK_3C17YM

!ADC8
   VQWK, 8, 4,  bpmstripline,  QWK_3C18XP
   VQWK, 8, 5,  bpmstripline,  QWK_3C18XM
   VQWK, 8, 6,  bpmstripline,  QWK_3C18YP
   VQWK, 8, 7,  bpmstripline,  QWK_3C18YM
   VQWK, 8, 0,  bpmstripline,  QWK_3C19XP
   VQWK, 8, 1,  bpmstripline,  QWK_3C19XM
   VQWK, 8, 2,  bpmstripline,  QWK_3C19YP
   VQWK, 8, 3,  bpmstripline,  QWK_3C19YM

!ADC9
   VQWK, 9, 4,  bpmstripline,  QWK_3P02AXP
   VQWK, 9, 5,  bpmstripline,  QWK_3P02AXM
   VQWK, 9, 6,  bpmstripline,  QWK_3P02AYP
   VQWK, 9, 7,  bpmstripline,  QWK_3P02AYM
   VQWK, 9, 0,  bpmstripline,  QWK_3P02BXP
   VQWK, 9, 1,  bpmstripline,  QWK_3P02BXM
   VQWK, 9, 2,  bpmstripline,  QWK_3P02BYP
   VQWK, 9, 3,  bpmstripline,  QWK_3P02BYM

!ADC10
   VQWK, 10, 4,  bpmstripline,  QWK_3P03AXP
   VQWK, 10, 5,  bpmstripline,  QWK_3P03AXM
   VQWK, 10, 6,  bpmstripline,  QWK_3P03AYP
   VQWK, 10, 7,  bpmstripline,  QWK_3P03AYM
   VQWK, 10, 0,  bpmstripline,  QWK_3C20XP
   VQWK, 10, 1,  bpmstripline,  QWK_3C20XM
   VQWK, 10, 2,  bpmstripline,  QWK_3C20YP
   VQWK, 10, 3,  bpmstripline,  QWK_3C20YM

!ADC11
   VQWK, 11, 4,  bpmstripline,  QWK_3C21XP
   VQWK, 11, 5,  bpmstripline,  QWK_3C21XM
   VQWK, 11, 6,  bpmstripline,  QWK_3C21YP
   VQWK, 11, 7,  bpmstripline,  QWK_3C21YM
   VQWK, 11, 0,  bpmstripline,  QWK_3H02XP
   VQWK, 11, 1,  bpmstripline,  QWK_3H02XM
   VQWK, 11, 2,  bpmstripline,  QWK_3H02YP
   VQWK, 11, 3,  bpmstripline,  QWK_3H02YM


!ADC12
   VQWK, 12, 4,  bpmstripline,  QWK_3H03AXP
   VQWK, 12, 5,  bpmstripline,  QWK_3H03AXM
   VQWK, 12, 6,  bpmstripline,  QWK_3H03AYP
   VQWK, 12, 7,  bpmstripline,  QWK_3H03AYM
   VQWK, 12, 0,  bpmstripline,  QWK_3H07AXP
   VQWK, 12, 1,  bpmstripline,  QWK_3H07AXM
   VQWK, 12, 2,  bpmstripline,  QWK_3H07AYP
   VQWK, 12, 3,  bpmstripline,  QWK_3H07AYM


!ADC13
   VQWK, 13, 4,  bpmstripline,  QWK_3H07BXP
   VQWK, 13, 5,  bpmstripline,  QWK_3H07BXM
   VQWK, 13, 6,  bpmstripline,  QWK_3H07BYP
   VQWK, 13, 7,  bpmstripline,  QWK_3H07BYM
   VQWK, 13, 0,  bpmstripline,  QWK_3H07CXP
   VQWK, 13, 1,  bpmstripline,  QWK_3H07CXM
   VQWK, 13, 2,  bpmstripline,  QWK_3H07CYP
   VQWK, 13, 3,  bpmstripline,  QWK_3H07CYM


!ADC14
   VQWK, 14, 4,  bpmstripline,  QWK_3HG0XP
   VQWK, 14, 5,  bpmstripline,  QWK_3HG0XM
   VQWK, 14, 6,  bpmstripline,  QWK_3HG0YP
   VQWK, 14, 7,  bpmstripline,  QWK_3HG0YM
   VQWK, 14, 4,  bpmstripline,  QWK_3HG0BXP
   VQWK, 14, 5,  bpmstripline,  QWK_3HG0BXM
   VQWK, 14, 6,  bpmstripline,  QWK_3HG0BYP
   VQWK, 14, 7,  bpmstripline,  QWK_3HG0BYM


!ADC15
   VQWK, 15, 4,  bcm,  QWK_3H04
   VQWK, 15, 5,  bcm,  QWK_3H04A
   VQWK, 15, 6,  bcm,  QWK_3H07
   VQWK, 15, 7,  bcm,  QWK_3H3G0Z
   VQWK, 15, 4,  bpmcavity,  QWK_3HCAV



!**************************************************************************
! HALL C BEAMLINE SCALERS : HALO MONITORS
!**************************************************************************


ROC=0
Bank=0x6103
!
!
! scaler.type, scaler.num  word.num, det.type, det.name
!   SCALER, 2, 20,  halomonitor,  QWK_HALO1




!**************************************************************************
! COMBINATIONS OF BEAM LINE DEVICES USED FOR BEAM ON TARGET 
!**************************************************************************


begin=combinedbcm
name=qwk_average_charge
!name	type	wieght
 empty2,  bcm, 1.0
 empty1,  bcm, 0.8
end=combinedbcm


begin=combinedbpm
name=qwk_target
!name	    type 	  q      x     y    
 QWK_3C12,  bpmstripline, 0.9,  0.5,  0.1
 QWK_3C14,  bpmstripline, 1.0,  0.1,  0.5
 QWK_3C16,  bpmstripline, 1.0,  0.1,  0.5
 QWK_3C17,  bpmstripline, 1.0,  0.1,  0.5
end=combinedbpm


!**************************************************************************
! DEVICES USED TO OBTAIN THE BEAM ENERGY
!**************************************************************************
! For the energy calculation we need the following inforamtion.
! 	Beam position at the highest dispersive region (beamposition)
!	Beam angle on target (targetbeamangle)
!	Beam position on target (targetbeamposition)
! 	The ratios of the TMatrix elements (with the appropriate signs).
! These are used in the equation
!	(dP/P) = (1/M15)*X_3c12 + (-M11/M15)*X_T + (-M12/M15)*X_T`
! To get (dP/P).

begin=energycalculator
name=qwk_energy
! name      type 	ratios property  
  QWK_3C11, bpmstripline, 1.5,	beamposition   
  QWK_TARGET, combinedbpm, -2.4, targetbeamangle
  QWK_TARGET, combinedbpm, -0.6, targetbeamposition
end=energycalculator

! CHECK THE SIGNS OF THE MATRIX ELEMENT RATIOS!.



!END



